<style>
    .card.articleObj {display: flex;flex-wrap: nowrap;height: calc(80px + 0.8rem);padding: 0.4rem 0.5rem;margin-bottom: 0.5rem;overflow: unset;}
    .articleObj .imgArea {width: 80px;min-width: 80px;height: 80px;margin-right: 0.5rem;display: inline-flex;align-items: center;justify-content: center;overflow: hidden;border-radius: var(--border-radius);border: none;}
    .articleObj .imgArea img {width: 100%;height: 100%;object-fit:cover;}
    .articleObj .textArea {width: calc(100% - 80px - 0.5rem);height: 100%;padding-top: 0.1rem;}
    .articleObj .infoArea {display: flex;align-items: center;flex-wrap: wrap;line-height: normal;}
    .articleObj .infoArea span {margin-right: 0.3rem;margin-bottom: 0.1rem;line-height: normal;display: flex;align-items: center;justify-content: center;}
    .articleObj .infoArea span:last-child {margin-right: 0;}
    .articleObj .oval {padding: 2px 6px;font-size: 11px;}
    .articleObj .textArea .title {font-size: var(--font-size-xs);line-height: normal;overflow: hidden;text-overflow: ellipsis;
                        display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;word-wrap: break-word;word-break: break-all;}
</style>
<!-- cloneArticleObj -->
<div class="cloneArticleObj" style="display: none;">
    <article class="articleObj card panel" data-aid="" data-pctitle="" data-mobiletitle="" data-pcimage="" data-mobileimage="" data-pcsubtitle="" data-mobilesubtitle="" data-pcimageid="" data-mobileimageid="">
        <div class="imgArea thumb">
            <img src="/img/psd.png" alt="">
        </div>
        <div class="textArea">
            <div class="infoArea">
                <span class="oval gray category" style="white-space: nowrap;" data-tooltip="카테고리" data-placement="top">카테고리</span>
                <span class="oval lemon series" style="white-space: nowrap;" data-tooltip="시리즈" data-placement="top">시리즈</span>
                <span class="thumb" data-tooltip="사진" data-placement="top"><i class="fa-light fa-image fa-xs"></i></span>
                <span class="rel" data-tooltip="관련기사" data-placement="top"><i class="fa-light fa-network-wired fa-xs"></i></span>
                <span class="articlePreview" data-aid="" data-type="pc" data-tooltip="PC기사보기" data-placement="top" style="cursor: pointer;">
                    <i class="fa-light fa-desktop fa-xs"></i>
                </span>
                <span class="articlePreview" data-aid="" data-type="mobile" data-tooltip="MOBILE기사보기" data-placement="top" style="cursor: pointer;">
                    <i class="fa-light fa-mobile fa-xs"></i>
                </span>
                <span class="date" data-tooltip="발행일" data-placement="top" style="font-size: 12px;">1일전</span>
            </div>
            <div class="title">기사제목기사제목기사제목 기사제목기사제목 기사제목</div>
        </div>
    </article>
</div>
<!--// cloneArticleObj -->

<script>
    /*******************************************************************************
	 * 기사 리스트
	 */
    $(document).ready(function(){
        getArticleList();
    });

	$("[data-list='#articleList']").click(function(){
		getArticleList();
	});

	// searchText enter 처리
	$("#searchText").keypress(function( event ) {
		if ( event.which == 13 ) {
			getArticleList();
		}
	});

	$("#srcCategory").change(function() {
		getArticleList();
	});
	
	$("#btn_articleSearch").click(function () {
		getArticleList();
	});
	
	let getArticleList = (page)=>{
		let searchItem = "text";
		if(!page || page===undefined){
			page = 1;
		}
		var params = {
			status: 'publish',
			page: page,
			noapp: 14,
			pageNavCnt: 5,
			categoryId: $("#srcCategory").val()?$("#srcCategory").val():'',
			searchItem: searchItem,
			searchText: $("#searchText").val(),
		};
		$.ajax({
			url: '/article/list/ajax',
			method: 'get',
			data: params,
			dataType: "json",
			beforeSend: function(){
				$("#articleList #searchList").empty();
				$("#articleList #pageNavigation").empty();
			},
			success: function(data){
				if (!!data?.result?.items && data.result.items.length > 0) {
					var cloneArticleObj = '';
					$(data.result.items).each(function(i, obj){
						let html = getHtmlManualBox(obj, 'article');
						if (!!html) {
							$("#articleList #searchList").append(html);
						}
					});
				} else {
					$("#articleList #searchList").append('검색 결과가 없습니다.');
				}

				$("#articleList #pageNavigation").append(getPageNavHtml('getArticleList',data.result.page));
			},
			error: function (){
				$("#articleList #searchList").empty().append('검색 오류가 발생하였습니다.');
			},
			complete : function(){
				$('#articleList #searchList').closest('[role=tablist]').scrollTop(0);
			}
		});
	}
</script>