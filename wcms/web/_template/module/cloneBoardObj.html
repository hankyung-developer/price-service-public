<style>
    .card.boardObj {display: flex;flex-wrap: nowrap;height: calc(80px + 0.8rem);padding: 0.4rem 0.5rem;margin-bottom: 0.5rem;overflow: unset;}
    .boardObj .imgArea {width: 80px;min-width: 80px;height: 80px;margin-right: 0.5rem;display: inline-flex;align-items: center;justify-content: center;overflow: hidden;border-radius: var(--border-radius);border: none;}
    .boardObj .imgArea img {width: 100%;height: 100%;object-fit:cover;}
    .boardObj .textArea {width: calc(100% - 80px - 0.5rem);height: 100%;padding-top: 0.1rem;}
    .boardObj .infoArea {display: flex;align-items: center;flex-wrap: wrap;line-height: normal;}
    .boardObj .infoArea span {margin-right: 0.3rem;margin-bottom: 0.1rem;line-height: normal;display: flex;align-items: center;justify-content: center;}
    .boardObj .infoArea span:last-child {margin-right: 0;}
    .boardObj .textArea .title {font-size: var(--font-size-xs);line-height: normal;overflow: hidden;text-overflow: ellipsis;
                        display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;word-wrap: break-word;word-break: break-all;}
</style>
<!-- cloneBoardObj -->
<div class="cloneBoardObj" style="display: none;">
    <article class="boardObj card panel" data-id="">
        <div class="imgArea thumb">
            <img src="/img/psd.png" alt="">
        </div>
        <div class="textArea">
            <div class="infoArea">
                <span class="thumb" data-tooltip="사진" data-placement="top"><i class="fa-light fa-image fa-xs"></i></span>
                <span class="date" data-tooltip="작성일" data-placement="top" style="font-size: 12px;"></span>
            </div>
            <div class="title"></div>
        </div>
    </article>
</div>
<!--// cloneBoardObj -->

<script>
	/*******************************************************************************
	 * 게시판 리스트
	 */
	$("[data-list='#boardList']").click(function(){
		getBoardList();
	});
	// boardKeyword enter 처리
	$("#boardKeyword").keypress(function( event ) {
		if ( event.which == 13 ) {
			getBoardList();
		}
	});

	$("#searchBoardId").change(function() {
		getBoardList();
	});
	
	$("#btn_boardSearch").click(function () {
		getBoardList();
	});

	let getBoardList = (page)=>{
		let searchItem = "text";
		if(!page || page===undefined){
			page = 1;
		}
		var params = {
			requester: 'layout',
			status: 'publish',
			page: page,
			pageNavCnt: 5,
			id: $("#searchBoardId").val(),
			searchItem: searchItem,
			searchText: $("#boardKeyword").val(),
		};
		$.ajax({
			url: '/board/list/ajax',
			method: 'get',
			data: params,
			dataType: "json",
			beforeSend: function(){
				$("#boardList #searchList").empty();
				$("#boardList #pageNavigation").empty();
			},
			success: function(data){
				if (!!data?.result?.items && data.result.items.length > 0) {
					var cloneBoardObj = '';
					$(data.result.items).each(function(i, obj){
						let html = getHtmlManualBox(obj, 'board');
						if (!!html) {
							$("#boardList #searchList").append(html);
						}
					});
				} else {
					$("#boardList #searchList").append('검색 결과가 없습니다.');
				}

				$("#boardList #pageNavigation").append(getPageNavHtml('getBoardList',data.result.page));
			},
			error: function (){
				$("#boardList").empty().append('검색 오류가 발생하였습니다.');
			},
			complete : function(){
				$('#boardList').scrollTop(0);
			}
		});
	}
</script>