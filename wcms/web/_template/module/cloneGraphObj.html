<style>
    .card.graphObj {display: flex;flex-wrap: nowrap;height: calc(80px + 0.8rem);padding: 0.4rem 0.5rem;margin-bottom: 0.5rem;overflow: unset;}
    .graphObj .imgArea {width: 80px;min-width: 80px;height: 80px;margin-right: 0.5rem;display: inline-flex;align-items: center;justify-content: center;overflow: hidden;border-radius: var(--border-radius);border: none;}
    .graphObj .imgArea img {width: 100%;height: 100%;object-fit:cover;}
    .graphObj .textArea {width: calc(100% - 80px - 0.5rem);height: 100%;padding-top: 0.1rem;}
    .graphObj .infoArea {display: flex;align-items: center;flex-wrap: wrap;line-height: normal;}
    .graphObj .infoArea span {margin-right: 0.3rem;margin-bottom: 0.1rem;line-height: normal;display: flex;align-items: center;justify-content: center;}
    .graphObj .infoArea span:last-child {margin-right: 0;}
    .graphObj .textArea .title {font-size: var(--font-size-xs);line-height: normal;overflow: hidden;text-overflow: ellipsis;
                        display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;word-wrap: break-word;word-break: break-all;}
</style>
<!-- cloneGraphObj -->
<div class="cloneGraphObj" style="display: none;">
    <article class="graphObj card panel" data-id="">
        <div class="imgArea thumb">
            <img src="/img/psd.png" alt="">
        </div>
        <div class="textArea">
            <div class="infoArea">
                <span class="oval gray category" data-tooltip="카테고리" data-placement="top" style="font-size: 12px;"></span>
                <!-- <span class="thumb" data-tooltip="사진" data-placement="top"><i class="fa-light fa-image fa-xs"></i></span> -->
                <span class="date" data-tooltip="작성일" data-placement="top" style="font-size: 12px;"></span>
            </div>
            <div class="title"></div>
        </div>
    </article>
</div>
<!--// cloneGraphObj -->

<script>
/*******************************************************************************
 * 그래프 리스트
 */
// graphKeyword enter 처리
$("#graphKeyword").keypress(( event )=>{
	if ( event.which == 13 ) {
		getGraphList();
	}
});

$("[data-list='#graphList']").click(function(){
	getGraphList();
});


$("#btn_graphSearch").click(()=> {
	getGraphList();
});

let getGraphList = (page)=>{
	let searchItem = "text";
	if(!page || page===undefined){
		page = 1;
	}
	var params = {
		requester: 'layout',
		status: 'publish',
		page: page,
		pageNavCnt: 5,
		searchItem: searchItem,
		searchText: $("#graphKeyword").val(),
	};
	$.ajax({
		url: '/graph/list/ajax',
		method: 'get',
		data: params,
		dataType: "json",
		beforeSend: function(){
			$("#graphList #searchList").empty();
			$("#graphList #pageNavigation").empty();
		},
		success: function(data){
			if (!!data?.result?.items && data.result.items.length > 0) {
				var cloneGraphObj = '';
				$(data.result.items).each(function(i, obj){
					let html = getHtmlManualBox(obj, 'graph');
					if (!!html) {
						$("#graphList #searchList").append(html);
					}
				});
			} else {
				$("#graphList #searchList").append('검색 결과가 없습니다.');
			}

			$("#graphList #pageNavigation").append(getPageNavHtml('getGraphList',data.result.page));
		},
		error: function (){
			$("#graphList").empty().append('검색 오류가 발생하였습니다.');
		},
		complete : function(){
			$('#graphList').scrollTop(0);
		}
	});
}

</script>