tinymce.PluginManager.add('source', function(editor, url) {
    editor.ui.registry.addButton( 'source', {
        icon: 'new-document', 
        tooltip: '외부 소스 입력',
        onAction:()=>{
            editor.windowManager.open({
                title: '외부 소스 입력',
                body: {
                    type: 'panel',
                    items: [
                        {
                            type: 'textarea',size: 40,name: 'sourcecode', label: '소스코드', id: 'url',height:"200px"
                        }
                    ]
                },
                buttons: [
                    {
                        type: 'cancel',name: 'closeButton',text: '취소'
                    },
                    {
                        type: 'submit',name: 'submitButton',text: '확인',primary: true
                    }
                ],
                onSubmit: function (api) {
                    var data = api.getData();
                                                
                    editor.insertContent("<div>"+data.sourcecode+"</div>");
                    api.close();
                }
            })
        }
    });
});